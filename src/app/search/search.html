<p>search works!</p>

<div class="container">
  <h1 class="title">æ–½è¨­æƒ…å ±æ¤œç´¢</h1>

  <!-- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  -->
  <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="search-form">
    <div class="form-row">
      <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠ -->
      <div class="form-group">
        <label class="form-label">
          ã‚«ãƒ†ã‚´ãƒªãƒ¼ <span class="required">*</span>
        </label>
        <select 
          class="form-control"
          [class.error]="hasError('category')"
          formControlName="category">
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="all">ã™ã¹ã¦</option>
          <option value="facility">æ–½è¨­</option>
          <option value="report">ãƒ¬ãƒãƒ¼ãƒˆ</option>
        </select>
        <div class="error-message" *ngIf="hasError('category')">
          <span class="error-icon">âš </span>
          {{ getErrorMessage('category') }}
        </div>
      </div>

      <!-- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ› -->
      <div class="form-group">
        <label class="form-label">
          ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ <span class="required">*</span>
        </label>
        <input 
          type="text"
          class="form-control"
          [class.error]="hasError('keyword')"
          formControlName="keyword"
          placeholder="æ–½è¨­åã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥åŠ›">
        <div class="error-message" *ngIf="hasError('keyword')">
          <span class="error-icon">âš </span>
          {{ getErrorMessage('keyword') }}
        </div>
      </div>
    </div>

    <!-- æ¤œç´¢ãƒœã‚¿ãƒ³ -->
    <div class="button-container">
      <button class="search-button" (click)="onSearch()">
        ğŸ” æ¤œç´¢
      </button>
    </div>
  </form>

  <!-- æ¤œç´¢çµæœ -->
  <div class="results-container" *ngIf="hasSearched">
    <h2 class="results-title">
      æ¤œç´¢çµæœ ({{ searchResults.length }}ä»¶)
    </h2>

    <div *ngIf="searchResults.length > 0; else noResults">
      <table class="results-table">
        <thead>
          <tr>
            <th>æ–½è¨­å</th>
            <th>é€šçŸ¥æ—¥æ™‚</th>
            <th>ãƒ•ã‚¡ã‚¤ãƒ«å</th>
            <th class="text-center">æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let result of searchResults">
            <td>{{ result.facilityName }}</td>
            <td>{{ result.notificationDate }}</td>
            <td>{{ result.fileName }}</td>
            <td class="text-center">
              <button 
                class="download-button"
                (click)="onDownload(result.fileName)">
                â¬‡ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <ng-template #noResults>
      <div class="no-results">
        æ¤œç´¢æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ
      </div>
    </ng-template>
  </div>
</div>